[tools]
usage = 'latest'
java = '21'
maven = '3'
eza = 'latest'
bat = 'latest'
bat-extras = 'latest'
pnpm = 'latest'
node = '22'

[env]
'_'.file = '~/.env'
'_'.path = '{{ cwd }}/node_modules/.bin'
'_'.source = '{{ cwd }}/.venv/bin/activate'

[tasks.java-exec]
description = 'runs a simple java project'
run = 'java -cp dist {{arg(name="class-name")}}'
usage = 'arg "class-name" default="Main"'

[tasks.java-build]
description = 'builds a simple java project'
run = 'javac -d dist --source-path ./src src/*.java'

[tasks.jar-build]
run = 'jar cfm "$(basename "$PWD").jar" "$(find . -type f -iname "manifest.mf" | head -n 1)" -C dist .'
description = 'generates a .jar file for a simple java project'

[tasks.jar-exec]
run = 'java -jar "$(basename "$PWD")".jar'
description = 'execute the jar file generated by build-jar'

[tasks.py-venv]
description = 'create a python virtual environment'
run = 'python -m venv {{arg(name="dir-name")}}'
usage = 'arg "dir-name" default=".venv" { choices ".venv" } '
alias = 'pv'
